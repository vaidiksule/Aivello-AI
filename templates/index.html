<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aivello</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <nav id="sidebar">
        <ul>
            <li>
                <span class="logo">Aivello</span>
                <button onclick="toggleSidebar()" id="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#5f6368">
                        <path
                            d="M440-240 200-480l240-240 56 56-183 184 183 184-56 56Zm264 0L464-480l240-240 56 56-183 184 183 184-56 56Z" />
                    </svg>
                </button>
            </li>
            <li class="active">
                <a href="/">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#5f6368">
                        <path
                            d="M323-160q-11 0-20.5-5.5T288-181l-78-139h58l40 80h92v-40h-68l-40-80H188l-57-100q-2-5-3.5-10t-1.5-10q0-4 5-20l57-100h104l40-80h68v-40h-92l-40 80h-58l78-139q5-10 14.5-15.5T323-800h97q17 0 28.5 11.5T460-760v160h-60l-40 40h100v120h-88l-40-80h-92l-40 40h108l40 80h112v200q0 17-11.5 28.5T420-160h-97Zm237 0q-33 0-56.5-23.5T480-240q0-23 11-40.5t29-28.5v-342q-18-11-29-28.5T480-720q0-33 23.5-56.5T560-800q33 0 56.5 23.5T640-720q0 23-11 40.5T600-651v101l80-48q0-34 23.5-58t56.5-24q33 0 56.5 23.5T840-600q0 33-23.5 56.5T760-520q-11 0-20.5-2.5T721-530l-91 55 101 80q7-3 14-4t15-1q33 0 56.5 23.5T840-320q0 33-23.5 56.5T760-240q-37 0-60.5-28T681-332l-81-65v89q18 11 28.5 28.5T639-240q0 33-23 56.5T560-160Z" />
                    </svg>
                    <span>AI</span>
                </a>
            </li>
            <li>
                <button onclick="toggleSubMenu(this)" class="dropdown-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#5f6368">
                        <path
                            d="M200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v100h-80v-100H200v560h560v-100h80v100q0 33-23.5 56.5T760-120H200Zm320-160q-33 0-56.5-23.5T440-360v-240q0-33 23.5-56.5T520-680h280q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280H520Zm280-80v-240H520v240h280Zm-160-60q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z" />
                    </svg>
                    <span>Payment</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#5f6368">
                        <path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z" />
                    </svg>
                </button>
                <ul class="sub-menu">
                    <div>
                        <li><a href="/wallet">Wallet</a></li>
                        <li><a href="/invoice">Invoice</a></li>
                    </div>
                </ul>
            </li>
            <li>
                <a href="/profile">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                        fill="#5f6368">
                        <path
                            d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z" />
                    </svg>
                    <span>Profile</span>
                </a>
            </li>
        </ul>
    </nav>
    <main>
        {% block content %}
        <div class="main-container">
            <div class="container">
                <h2>Let our AI do the research for you</h2>
                <div class="input-container">
                    <form method="POST">
                        <label for="name">Enter Name:</label>
                        <input type="text" id="name" name="name" placeholder="Full Name" required>
                        <button type="submit">Get Info</button>
                    </form>
                </div>
            </div>
            <div class="container">
                <div class="output-container">
                    {% if name %}
                    <h3>Information about "{{ name }}":</h3>

                    <div class="wiki-container">
                        {% if person_data.wikipedia %}
                        <h4>Wikipedia:</h4>
                        <p>{{ person_data.wikipedia.summary }}</p>
                        <p><a href="{{ person_data.wikipedia.url }}" target="_blank">Read more on Wikipedia</a></p>
                        {% endif %}
                    </div>
                    <div class="news-container">
                        {% if person_data.news %}
                        <h4>News Articles:</h4>
                        <ul>
                            {% for article in person_data.news %}
                            <li><a href="{{ article.url }}" target="_blank">{{ article.title }}</a></li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </div>
                    <div class="youtube-container">
                        {% if person_data.youtube %}
                        <h4>YouTube Videos:</h4>
                        <ul>
                            {% for video in person_data.youtube %}
                            <li><a href="{{ video.url }}" target="_blank">{{ video.title }}</a></li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </div>
                    {% else %}
                    <p>Enter a name to search for information.</p>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endblock %}
    </main>
    <script>
        const toggleButton = document.getElementById('toggle-btn');
        const sidebar = document.getElementById('sidebar');

        function toggleSubMenu(button) {
            if (!button.nextElementSibling.classList.contains('show')) {
                closeAllSubMenus()
            }
            button.nextElementSibling.classList.toggle('show');
            button.classList.toggle('rotate');

            if (sidebar.classList.contains('close')) {
                sidebar.classList.toggle('close');
                toggleButton.classList.toggle('rotate')
            }
        }
        function toggleSidebar() {
            sidebar.classList.toggle('close')
            toggleButton.classList.toggle('rotate');
            closeAllSubMenus();
        }

        function closeAllSubMenus() {
            Array.from(sidebar.getElementsByClassName('show')).forEach(ul => {
                ul.classList.remove('show');
                ul.previousElementSibling.classList.remove('rotate');
            });
        }
    </script>
</body>

</html>